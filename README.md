# ShikiMALSynchronizer - мигратор базы Shikimori в аккаунт MyAnimeList (MAL)

Пока что делает следующее:
1) авторизуется в MAL и тянет список просмотренных аниме;
2) тоже самое, что и 1), только для Shikimori;
3) сравнивает, чего не хватает в MAL или что есть, но отличается по статусу, оценке или количеству эпизодов;
4) дописывает разницу в аккаунт MAL.

Состоит из:
1) Common - общие компоненты для клиентов обеих баз аниме;
2) MyAnimeListClient - минимизированное API для MAL, поддерживающее исключительно то, что нужно приложению;
3) ShikimoriClient - такой же клиент для Shikimori;
4) ShikiMALSynchronizer - основной проект приложения, склеивающего в себе клиенты с небольшими расширениями.

Косяки:
1) Shikimori при запросе сразу множества аниме выдаёт сокращённую модель каждого тайтла, в которой не хватает поля `myanimelist_id`. Из-за этого приходится запрашивать каждый из тайтлов по одному раз в секунду, что есть очень медленно;
2) MyAnimeList вместо 429 при заваливании его патчами отправляет нашего клиента в таймаут на API Gateway, из-за чего приложение целую минуту ничего не сможет сделать. Секундный гэп при запросах не спасает, ограничение считается по-другому.

Пофиксить:
1) Rate limiter на клиенте;
2) Поддержать обновление токена.
